import React, { useRef, useEffect } from "react";
import gsap from "gsap";

const LoadingIcon = (props, ref) => {
  // This is for the rotation animation
  const iconRef = useRef(null);

  useEffect(() => {
    var tl = gsap.timeline({ repeat: -1 });

    tl.to(iconRef.current, {
      rotation: 15,
      transformOrigin: "50% 50%",
      duration: 1,
    });
    tl.to(iconRef.current, {
      rotation: -15,
      transformOrigin: "50% 50%",
      duration: 1,
    });
  }, []);

  return (
    <svg
      ref={iconRef}
      className="loading-icon"
      width="33"
      height="114"
      viewBox="0 0 33 114"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M17.0762 113.557C20.4305 113.618 23.7173 113.227 26.9501 112.268C31.2628 110.993 32.8488 107.834 32.4371 103.704C32.1537 100.883 31.5395 98.1289 30.9051 95.3753C29.7848 90.5025 29.9872 85.6094 30.7769 80.7028C31.6475 75.3305 32.0929 69.9178 32.2212 64.4713C32.2819 61.6974 32.3022 58.9168 32.1334 56.1631C31.7622 49.8595 31.5395 43.5019 29.5283 37.4345C28.0772 33.0678 26.5587 28.7214 25.4788 24.24C24.7634 21.2772 24.2978 18.2738 24.534 15.2097C24.5677 14.7306 24.6285 14.2379 24.7769 13.7789C25.2561 12.3009 25.4586 10.7824 25.3709 9.23682C25.2831 7.65078 25.2831 6.0715 25.3101 4.47872C25.3574 2.30551 24.0345 0.807217 21.8816 0.456265C18.3518 -0.110657 14.8153 -0.184896 11.2788 0.436019C8.6399 0.901705 7.67478 2.36625 7.5128 5.02539C7.29008 8.64964 7.938 12.1524 8.34294 15.7024C8.72089 19.0297 7.884 22.2288 7.1686 25.4414C6.34521 29.1331 4.90766 32.6291 3.78731 36.2196C2.28227 41.052 1.37114 45.9923 1.06744 51.0406C0.851465 54.6109 0.595 58.1879 0.608498 61.7649C0.628745 69.2091 1.41164 76.5926 2.60622 83.9356C3.28113 88.1133 2.7817 92.1965 1.80983 96.2527C1.15517 98.9995 0.527509 101.767 0.500513 104.608C0.466768 108.988 2.10004 111.087 6.29797 112.39C8.84912 113.179 11.461 113.382 14.0932 113.53C15.0853 113.584 16.0841 113.537 17.0762 113.537V113.557Z"
        fill="#DC2626"
      />
      <path
        d="M2.40401 54.3342C2.40401 55.0361 2.4715 55.7447 2.38376 56.4331C2.28927 57.1351 2.47825 57.3983 3.2004 57.4995C5.31961 57.7965 7.12161 58.8831 8.95736 59.9224C12.8651 62.1496 16.8875 62.3926 20.9977 60.4151C23.2587 59.3285 25.1956 57.8032 27.0246 56.1227C27.9965 55.2318 28.9076 54.2667 29.866 53.3623C30.19 53.0586 30.3114 52.7414 30.2844 52.3027C29.866 46.1611 28.9886 40.1409 26.8019 34.3097C24.9999 29.5043 23.5219 24.5573 23.0292 19.3942C22.8132 17.086 22.7052 14.7711 23.4476 12.5102C23.8796 11.1806 23.8188 9.79028 23.7311 8.42022C23.6569 7.29312 23.6299 6.17277 23.7176 5.03893C23.8661 3.21668 23.1709 2.3393 21.3554 2.02884C18.0146 1.45517 14.6671 1.43492 11.3263 2.08283C9.72676 2.39329 9.30156 3.25717 9.13959 4.95794C8.80213 8.63619 9.59178 12.193 9.96297 15.7902C10.3072 19.1445 9.49729 22.3706 8.79538 25.6101C7.90451 29.7001 6.26448 33.5538 5.07664 37.556C3.55135 42.692 2.76171 47.9496 2.53224 53.2948C2.51874 53.6458 2.47825 53.99 2.45125 54.3409H2.40401V54.3342Z"
        fill="white"
      />
      <circle
        className="loading-icon__bubble loading-icon__bubble-1"
        r="1.34982"
        transform="matrix(-1 0 0 1 9.5535 68.84)"
        fill="white"
      />
      <circle
        className="loading-icon__bubble loading-icon__bubble-2"
        r="1.34982"
        transform="matrix(-1 0 0 1 26.4256 63.4416)"
        fill="white"
      />
      <circle
        className="loading-icon__bubble loading-icon__bubble-3"
        r="1.34982"
        transform="matrix(-1 0 0 1 26.4256 63.4416)"
        fill="white"
      />
      <circle
        className="loading-icon__bubble loading-icon__bubble-4"
        r="0.674908"
        transform="matrix(-1 0 0 1 14.2772 88.4132)"
        fill="white"
      />
      <circle
        className="loading-icon__bubble loading-icon__bubble-5"
        r="0.674908"
        transform="matrix(-1 0 0 1 23.0507 96.5118)"
        fill="white"
      />
      <circle
        className="loading-icon__bubble loading-icon__bubble-6"
        r="1.01236"
        transform="matrix(-1 0 0 1 21.3646 75.2526)"
        fill="white"
      />
      <circle
        className="loading-icon__bubble loading-icon__bubble-7"
        r="1.01236"
        transform="matrix(-1 0 0 1 7.19076 78.6266)"
        fill="white"
      />
    </svg>
  );
};

export default LoadingIcon;
